---
import type { Lang } from '@i18n/translations';
import { useTranslations, getLocalizedPath } from '@i18n/utils';
import LanguageSwitcher from './LanguageSwitcher.astro';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const t = useTranslations(lang);
const currentPath = Astro.url.pathname;
const appStoreUrl = 'https://apps.apple.com/app/hustlrr-every-ai-chat/id6737912223';

const blogLinks = [
  { label: 'Top prompts for everyday work', href: getLocalizedPath('/blog/top-ai-prompts-for-everyday-work', lang) },
  { label: 'Why Are Moving From One AI Model to AI Stacks', href: getLocalizedPath('/blog/why-professionals-are-moving-from-one-ai-model-to-ai-stacks', lang) },
  { label: 'AI workflows pros use daily', href: getLocalizedPath('/blog/ai-workflows-professionals-use-daily-and-why-they-work', lang) },
  { label: t('nav.blog'), href: getLocalizedPath('/blog', lang) },
];
---

<footer>
  <div class="mx-auto max-w-[1240px] px-5 py-10 flex flex-col gap-6">

    <!-- ROW 1: Blog article links (hidden on mobile, shown on desktop) -->
    <div class="hidden md:flex items-center justify-between gap-4">
      {blogLinks.map((link) => (
        <a
          href={link.href}
          class="text-sm text-white/70 hover:text-white transition-colors"
          style="letter-spacing: -0.14px;"
        >
          {link.label}
        </a>
      ))}
    </div>

    <!-- DIVIDER -->
    <div class="hidden md:block w-full h-px" style="background-color: rgba(216, 231, 242, 0.07);"></div>

    <!-- ROW 2: Logo | Social icons | App Store badges -->
    <!-- Desktop: 3 columns horizontal. Mobile: stacked centered -->
    <div class="flex flex-col items-center gap-6 md:flex-row md:items-center md:justify-between">
      <!-- Logo -->
      <a href={getLocalizedPath('/', lang)} class="inline-flex items-center">
        <img
          src="/images/logo.png"
          alt="hustlrr"
          class="h-9 w-auto"
        />
      </a>

      <!-- Social icons -->
      <div class="flex items-center gap-4">
        <a href="https://www.instagram.com/hustlrr.ai" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center w-10 h-10 rounded-full text-white hover:text-white/70 transition-colors" aria-label="Instagram">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="2" width="20" height="20" rx="5"/>
            <circle cx="12" cy="12" r="5"/>
            <circle cx="17.5" cy="6.5" r="1.5" fill="currentColor" stroke="none"/>
          </svg>
        </a>
        <a href="https://www.tiktok.com/@hustlrr.ai" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center w-10 h-10 rounded-full text-white hover:text-white/70 transition-colors" aria-label="TikTok">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-2.88 2.5 2.89 2.89 0 01-2.88-2.88 2.89 2.89 0 012.88-2.88c.28 0 .56.04.82.11v-3.5a6.37 6.37 0 00-.82-.05A6.34 6.34 0 003.15 15.2a6.34 6.34 0 006.34 6.34 6.34 6.34 0 006.34-6.34V8.83a8.28 8.28 0 004.76 1.5V6.89a4.85 4.85 0 01-1-.2z"/>
          </svg>
        </a>
        <a href="https://www.reddit.com/user/hustlrr-ai/" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center w-10 h-10 rounded-full text-white hover:text-white/70 transition-colors" aria-label="Reddit">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 13.38c.15.36.25.73.25 1.12 0 2.97-3.17 5.38-7.08 5.38S3.1 17.47 3.1 14.5c0-.39.1-.76.25-1.12a1.73 1.73 0 01-.47-1.18c0-.97.78-1.75 1.75-1.75.47 0 .89.19 1.2.49 1.22-.87 2.94-1.44 4.84-1.5l.9-4.22a.33.33 0 01.4-.25l2.95.62a1.26 1.26 0 011.15-.76c.69 0 1.25.56 1.25 1.25s-.56 1.25-1.25 1.25a1.25 1.25 0 01-1.2-.9l-2.62-.55-.8 3.75c1.86.08 3.54.65 4.73 1.5.31-.3.73-.49 1.2-.49.97 0 1.75.78 1.75 1.75 0 .46-.18.88-.47 1.18zM9.25 13.25a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5zm5.5 0a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5zm-4.65 3.95a.34.34 0 01.47 0c.64.64 1.6.96 2.68.96s2.04-.32 2.68-.96a.34.34 0 01.47 0 .34.34 0 010 .47c-.77.77-1.88 1.16-3.15 1.16s-2.38-.39-3.15-1.16a.34.34 0 010-.47z"/>
          </svg>
        </a>
        <a href="https://www.facebook.com/share/1Bc5J1GXoG/" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center w-10 h-10 rounded-full text-white hover:text-white/70 transition-colors" aria-label="Facebook">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
          </svg>
        </a>
      </div>

      <!-- App Store badges (dark style matching live site) -->
      <div class="flex items-center gap-2.5">
        <a
          href={appStoreUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center justify-center rounded-lg overflow-hidden hover:opacity-80 transition-opacity border border-white/20"
          style="width: 121px; height: 40px; background: #000;"
        >
          <img src="/images/Group@2x.png" alt="Download on the App Store" class="h-[28px] w-auto" style="filter: invert(1);" />
        </a>
        <a
          href={appStoreUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center justify-center rounded-lg overflow-hidden hover:opacity-80 transition-opacity border border-white/20"
          style="width: 156px; height: 40px; background: #000;"
        >
          <img src="/images/Frame@2x.png" alt="Download on the Mac App Store" class="h-[28px] w-auto" style="filter: invert(1);" />
        </a>
      </div>
    </div>

    <!-- DIVIDER -->
    <div class="w-full h-px" style="background-color: rgba(216, 231, 242, 0.07);"></div>

    <!-- ROW 3: Copyright + Legal links (left) | Language switcher (right) -->
    <!-- Desktop: horizontal space-between. Mobile: stacked centered -->
    <div class="flex flex-col items-center gap-4 md:flex-row md:justify-between md:items-center">
      <!-- Copyright + legal links -->
      <div class="flex flex-col items-center gap-3 md:flex-row md:gap-8">
        <p class="text-sm" style="color: rgba(235, 235, 245, 0.7); letter-spacing: -0.14px;">&copy; 2025</p>
        <a href="https://www.iubenda.com/privacy-policy/26853379" target="_blank" rel="noopener noreferrer" class="text-sm font-medium text-white hover:text-white/70 transition-colors" style="letter-spacing: -0.14px;">
          {t('footer.privacy')}
        </a>
        <a href="https://www.iubenda.com/terms-and-conditions/26853379" target="_blank" rel="noopener noreferrer" class="text-sm font-medium text-white hover:text-white/70 transition-colors" style="letter-spacing: -0.14px;">
          {t('footer.service')}
        </a>
        <a href={getLocalizedPath('/imprint', lang)} class="text-sm font-medium text-white hover:text-white/70 transition-colors" style="letter-spacing: -0.14px;">
          {t('footer.imprint')}
        </a>
      </div>

      <!-- Language switcher -->
      <div class="flex justify-center">
        <LanguageSwitcher lang={lang} currentPath={currentPath} />
      </div>
    </div>

  </div>
</footer>
